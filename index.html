<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<title>Butterfly Story ‚Äî Cinematic Monarch (Soft Fold + Rest)</title>

<script src="https://cdn.tailwindcss.com"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Inter:wght@400;500;700;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">


<style>
:root{
  --sky1:#f6fbff; --sky2:#eaf2ff; --sky3:#e2e9ff;
  --ink:#26263a; --soft:#6a6a88; --accent:#ff7fb6; --pill:#ffffffee;
  --glow:#ffdfb0;
  --flap-slow: .85s;
  --flap-fly:  .58s;
  --flap-land: .95s;
  --rest-angle: -8deg;
  /* Sunflower Colors */
  --sunflower-petal: #fcc419;
  --sunflower-petal-dark: #f59f00;
  --sunflower-center: #5c4033;
  --sunflower-stem: #38761d;
  /* Sun Colors */
  --sun-color-start: #FFD700; /* Gold */
  --sun-color-end: #FFA500; /* Orange */
  --sun-glow-color: #FFECB3; /* Light yellow */
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;margin:0;padding:0}
body{
  height:100vh; overflow:hidden; font-family:Inter,system-ui,sans-serif;
  background:
    radial-gradient(120vmax 80vmax at 50% -20%, #fff6 0%, #0000 55%),
    linear-gradient(180deg,var(--sky1),var(--sky2) 60%,var(--sky3));
  color:var(--ink);
}

.wrap{position:relative;width:100%;height:100%;overflow:hidden}

/* --- SUN STYLES --- */
.sun {
  position: absolute;
  top: -10vh; /* Position slightly off-screen for a rising effect */
  left: 50%;
  transform: translateX(-50%);
  width: 30vh; /* Adjust size as needed */
  height: 30vh;
  border-radius: 50%;
  background: radial-gradient(circle at center, var(--sun-color-start) 0%, var(--sun-color-end) 100%);
  box-shadow: 0 0 80px 30px var(--sun-glow-color); /* Soft glowing effect */
  z-index: 0; /* Behind other elements */
  pointer-events: none;
}
/* --- END SUN STYLES --- */

/* --- SUNFLOWER STYLES FINAL FIX (Simplified) --- */
.sunflower-svg {
  position: absolute;
  bottom: 0;
  /* Increased height to 70vh (~2/3 coverage) */
  height: 70vh; 
  /* Increased width proportionally to maintain 2:1 aspect ratio */
  width: 35vh; 
  max-width: 250px; 
  z-index: 2;
  pointer-events: none;
}
.left-sun {
  left: 0;
  /* Use transform for reliable horizontal offset based on element width */
  transform: translateX(-40%); 
}
.right-sun {
  right: 0;
  /* Flip the SVG and use transform for reliable horizontal offset */
  transform: translateX(40%) scaleX(-1);
}
/* --- END SUNFLOWER STYLES FINAL FIX --- */


.dust{position:absolute;inset:0;pointer-events:none;z-index:1}
.d{
  position:absolute;width:3px;height:3px;border-radius:50%;
  background:#fff;opacity:.7;
  filter:drop-shadow(0 0 6px #fff8);
  animation:rise linear infinite;
}
@keyframes rise{
  to{transform:translateY(-110vh) translateX(var(--drift));opacity:1}
}

/* --- GROUND STYLES: BROWN SOIL --- */
.ground{
  position:absolute;left:0;right:0;bottom:-9vh;height:28vh;z-index:0;
  background:
    radial-gradient(60vmax 12vmax at 20% 0%,#c6ffd780 0 40%,#0000 41%),
    radial-gradient(60vmax 12vmax at 80% 0%,#ffd9ea80 0 40%,#0000 41%),
    /* New: Dark brown soil fading into light brown/beige at the top */
    linear-gradient(180deg, #8B4513 0%, #A0522D 50%, #D2B48C 90%, #E4F7FF 100%); /* Adjusted fade into existing sky colors */
  border-top-left-radius:50% 20%;
  border-top-right-radius:50% 20%;
  filter:blur(1px);
}
/* --- END GROUND STYLES --- */


.hint{
  position:absolute;left:50%;bottom:18px;transform:translateX(-50%);
  font-size:13px;color:var(--soft);
  background:#ffffffc8;padding:8px 12px;border-radius:999px;
  backdrop-filter:blur(6px);box-shadow:0 6px 18px #0001;
  z-index:4;
}

.words{position:absolute;inset:0;pointer-events:none;z-index:3}
.pill{
  position:absolute;
  transform:translate(-50%,-50%) translateY(-8px);
  background:var(--pill);border-radius:999px;padding:8px 12px;
  border:1px solid #00000012;color:var(--ink);
  font-size:14px;opacity:0;
  animation:drop .9s ease-out forwards;
  box-shadow:0 6px 20px #0002,0 0 0 6px #ffffff60 inset;
}
@keyframes drop{
  0%{transform:translate(-50%,-50%) translateY(-12px) scale(.96);opacity:0}
  60%{opacity:1}
  100%{transform:translate(-50%,-50%) translateY(0) scale(1);opacity:1}
}

.butterfly{
  position:absolute;left:0;top:0;
  --x:50vw;--y:60vh;--r:0deg;
  width:130px;height:110px;z-index:5;
  transform:translate(var(--x),var(--y)) rotate(var(--r));
  filter:drop-shadow(0 10px 16px rgba(0,0,0,.16));
}
.butterfly.glow{
  filter:
    drop-shadow(0 0 12px rgba(255,223,176,.75))
    drop-shadow(0 10px 16px rgba(0,0,0,.18));
}

.wing{
  position:absolute;top:20px;width:90px;height:80px;
  animation: flap var(--flap-slow) ease-in-out infinite;
  animation-delay: 0s !important;
  will-change: transform;
}
.wing.left{
  left:-12px; transform-origin:92% 50%;
}
.wing.right{
  right:-12px; transform-origin:8% 50%; transform:scaleX(-1);
}

@keyframes flap{
  0%   { transform: rotate(14deg); }
  50%  { transform: rotate(-16deg); }
  100% { transform: rotate(14deg); }
}

.body{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  width:18px;height:80px;border-radius:10px;
  background:linear-gradient(#2a2a3d,#1a1a29);
}
.antenna{
  position:absolute;left:50%;top:8px;width:32px;height:32px;
  border-top:2px solid #1e1e2e;border-right:2px solid #1e1e2e;
  border-radius:50%;transform:translateX(-50%) rotate(40deg);
}

.butterfly.flying   .wing{ animation-duration: var(--flap-fly); }
.butterfly.landing  .wing{ animation-duration: var(--flap-land); }

.butterfly.rest .wing{
  animation-play-state: paused;
  transform: rotate(var(--rest-angle)) !important;
}

.final{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  width:min(90vw,520px);padding:20px;
  background:#ffffffee;border:1px solid #0001;border-radius:18px;
  backdrop-filter:blur(8px);
  text-align:center;
  box-shadow:0 20px 60px #0002,0 0 0 8px #ffffff70 inset;
  opacity:0;pointer-events:none;z-index:10;
  transition:opacity .8s ease,transform .8s ease;
}
.final.show{opacity:1;transform:translate(-50%,-50%) scale(1.02)}
.final h3{font-size:22px;margin:0 0 10px}
.final p{font-size:15px;color:#4a4a66;line-height:1.6}
.final .accent{color:var(--accent);text-shadow:0 0 10px var(--glow)}
.final h3 {
    font-family: 'Pacifico', cursive;
}


.controls{position:fixed;right:12px;bottom:12px;z-index:12}
.btn{
  background:#fff;border:1px solid #0002;padding:8px 12px;
  border-radius:999px;box-shadow:0 6px 16px #0001;font-size:12px;
  cursor:pointer;
}
.btn:active{transform:translateY(1px)}


.nav-panel, #navToggleIcon, #navToggleX {
    transition: all 0.3s ease-in-out;
}
.nav-panel {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.nav-panel::-webkit-scrollbar {
    display: none;
}
.festive-text {
    font-family: 'Gochi Hand', cursive;
}
h1, h2 {
     font-family: 'Pacifico', cursive;
}
button {
    user-select: none;
}
</style>
</head>

<body>

<button id="navToggle" class="fixed top-6 left-6 z-[70] p-2 bg-white/80 text-gray-700 backdrop-blur-sm rounded-full shadow-lg hover:bg-white focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-offset-2">
    <svg id="navToggleIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-8 6h8"></path></svg>
    <svg id="navToggleX" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
</button>

<nav id="topNav" class="nav-panel fixed top-0 left-0 right-0 z-[60] h-16 bg-white/80 backdrop-blur-sm text-[var(--ink)] shadow-md flex items-center justify-center space-x-6 -translate-y-full">
    <a href="index.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">Home</a>
    <a href="Special.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">Special</a>
    <a href="letter.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">Letter</a>
</nav>

<nav id="bottomNav" class="nav-panel fixed bottom-0 left-0 right-0 z-[60] h-16 bg-white/80 backdrop-blur-sm text-[var(--ink)] shadow-md flex items-center justify-center space-x-6 translate-y-full">
    <a href="anatomy.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">Anatomy</a>
    <a href="chat.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">Heaven</a>
    <a href="you.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-white transition-colors duration-200 festive-text">You</a>
</nav>

<nav id="leftNav" class="nav-panel fixed left-0 top-0 bottom-0 z-[60] w-20 bg-white/90 backdrop-blur-sm text-[var(--ink)] shadow-md flex flex-col items-center space-y-6 -translate-x-full overflow-y-auto py-20">
    <a href="Diary.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Diary</a>
    <a href="Universe.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Universe</a>
    <a href="Box.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Box</a>
    <a href="color.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Color</a>
    <a href="Teacher.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Teacher</a>
    <a href="The_River.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">River</a>
    <a href="Mountain.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Mountain</a>
    <a href="Paper_Star.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Paper Star</a>
    <a href="Carttoon.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Cartoon</a>
    <a href="Santa.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Santa</a>
    <a href="Cloud.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Cloud</a>
    <a href="Ink.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Paint</a>
    <a href="Butterfly.html" class="nav-link p-2 rounded-md text-sm font-medium bg-gray-200 font-bold transition-colors duration-200 festive-text">Butterfly</a>
    <a href="Weather.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Weather</a>
</nav>

<nav id="rightNav" class="nav-panel fixed right-0 top-0 bottom-0 z-[60] w-20 bg-white/90 backdrop-blur-sm text-[var(--ink)] shadow-md flex flex-col items-center space-y-6 translate-x-full overflow-y-auto py-20">
    <a href="Skill.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Skill</a>
    <a href="Msg.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">message</a>
    <a href="21_Wish.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">21_Door</a>
    <a href="Cake.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Cake</a>
    <a href="Periodik_table.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Periodik_table</a>
    <a href="Presence.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Presence</a>
    <a href="Concept.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Concept</a>
    <a href="Calender.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Calender</a>
    <a href="Perspective.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Perspective</a>
    <a href="Spotlight.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Spotlight</a>
    <a href="Room.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Room</a>
    <a href="Radio.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Radio</a>
    <a href="Food.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Food</a>
    <a href="Music.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors duration-200 festive-text">Music</a>
</nav>

<div class="wrap" id="scene">

  <!-- THE NEW SUN ELEMENT --><div class="sun"></div>

  <!-- LEFT SUNFLOWER (Decorative SVG Holder) --><svg class="sunflower-svg left-sun" viewBox="0 0 100 200" preserveAspectRatio="xMinYMax slice">
    <defs>
      <radialGradient id="sun-center-left" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#7a523a"/>
        <stop offset="100%" stop-color="var(--sunflower-center)"/>
      </radialGradient>
    </defs>
    <!-- Simplified group placement --><g transform="translate(0, 0)"> 
      <!-- Stem --><rect x="45" y="50" width="10" height="180" fill="var(--sunflower-stem)" />
      <!-- Leaf 1 --><path d="M55, 100 Q 80, 80 80, 130 C 80, 140 60, 120 55, 110 Z" fill="var(--sunflower-stem)" opacity="0.8" />
      <!-- Petals --><g transform="translate(50, 60)">
        <!-- 8-Petal Group 1 --><g fill="var(--sunflower-petal)">
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(0)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(45)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(90)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(135)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(180)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(225)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(270)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(315)" />
        </g>
        <!-- 8-Petal Group 2 (Offset and darker) --><g fill="var(--sunflower-petal-dark)" transform="rotate(22.5)">
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(0)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(45)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(90)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(135)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(180)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(225)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(270)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(315)" />
        </g>
        <!-- Center --><circle cx="0" cy="0" r="28" fill="url(#sun-center-left)" />
      </g>
    </g>
  </svg>

  <!-- RIGHT SUNFLOWER (Decorative SVG Holder) --><svg class="sunflower-svg right-sun" viewBox="0 0 100 200" preserveAspectRatio="xMinYMax slice">
    <defs>
      <radialGradient id="sun-center-right" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#7a523a"/>
        <stop offset="100%" stop-color="var(--sunflower-center)"/>
      </radialGradient>
    </defs>
    <!-- Simplified group placement --><g transform="translate(0, 0)"> 
      <!-- Stem --><rect x="45" y="50" width="10" height="180" fill="var(--sunflower-stem)" />
      <!-- Leaf 1 (Mirrored by CSS transform) --><path d="M55, 100 Q 80, 80 80, 130 C 80, 140 60, 120 55, 110 Z" fill="var(--sunflower-stem)" opacity="0.8" />
      <!-- Petals --><g transform="translate(50, 60)">
        <!-- 8-Petal Group 1 --><g fill="var(--sunflower-petal)">
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(0)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(45)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(90)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(135)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(180)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(225)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(270)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(315)" />
        </g>
        <!-- 8-Petal Group 2 (Offset and darker) --><g fill="var(--sunflower-petal-dark)" transform="rotate(22.5)">
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(0)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(45)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(90)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(135)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(180)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(225)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(270)" />
          <polygon points="0,0 10,25 0,50 -10,25" transform="rotate(315)" />
        </g>
        <!-- Center --><circle cx="0" cy="0" r="28" fill="url(#sun-center-right)" />
      </g>
    </g>
  </svg>
  
  <div class="dust" id="dust"></div>
  <div class="words" id="words"></div>

  <div class="butterfly glow rest" id="bf" aria-label="Butterfly (Monarch)">
    <svg class="wing left" viewBox="0 0 200 160" aria-hidden="true">
      <defs>
        <linearGradient id="monoO1" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#ffb14a"/>
          <stop offset="55%" stop-color="#ff7a1f"/>
          <stop offset="100%" stop-color="#e05612"/>
        </linearGradient>
      </defs>
      <g>
        <path d="M180,20 C120,10 70,25 30,70 C10,95 8,125 20,140
                 C38,160 72,150 100,138 C132,124 160,104 180,80
                 C196,60 198,40 180,20 Z"
              fill="#16151c" stroke="#0b0b0f" stroke-width="3"/>
        <path d="M170,28 C140,26 92,40 58,75 C50,84 46,95 48,110
                 C58,120 72,118 98,106 C124,94 150,76 170,56 Z"
              fill="url(#monoO1)"/>
        <path d="M120,30 C94,36 70,52 52,74 C48,78 46,84 45,90
                 C60,78 98,60 120,52 Z"
              fill="url(#monoO1)"/>
        <g fill="#fff">
          <circle cx="155" cy="22" r="5"/>
          <circle cx="140" cy="20" r="4"/>
          <circle cx="125" cy="22" r="4"/>
          <circle cx="112" cy="26" r="3.6"/>
        </g>
      </g>
    </svg>

    <svg class="wing right" viewBox="0 0 200 160" aria-hidden="true">
      <g transform="translate(200,0) scale(-1,1)">
        <path d="M180,20 C120,10 70,25 30,70 C10,95 8,125 20,140
                 C38,160 72,150 100,138 C132,124 160,104 180,80
                 C196,60 198,40 180,20 Z"
              fill="#16151c" stroke="#0b0b0f" stroke-width="3"/>
        <path d="M170,28 C140,26 92,40 58,75 C50,84 46,95 48,110
                 C58,120 72,118 98,106 C124,94 150,76 170,56 Z"
              fill="url(#monoO1)"/>
        <path d="M120,30 C94,36 70,52 52,74 C48,78 46,84 45,90
                 C60,78 98,60 120,52 Z"
              fill="url(#monoO1)"/>
        <g fill="#fff">
          <circle cx="155" cy="22" r="5"/>
          <circle cx="140" cy="20" r="4"/>
          <circle cx="125" cy="22" r="4"/>
          <circle cx="112" cy="26" r="3.6"/>
        </g>
      </g>
    </svg>

    <div class="body"></div>
    <div class="antenna"></div>
  </div>

  <div class="hint" id="hint">Tap anywhere ‚Äî she‚Äôll fly there & drop a word.</div>

  <div class="final" id="final">
    <h3>Happy 21st Birthday <span class="accent">‚ú®</span></h3>
    <p>Happy Birthday  üíõ
       Just like butterflies can‚Äôt see their own wings, you often don‚Äôt realize how beautiful, kind, and amazing you truly are‚Ä¶
       but everyone around you does.

       On your special day, I just want you to know:
       You‚Äôre wonderful in ways you may not even notice,
       and that‚Äôs what makes you even more special.

       Wishing you a day as lovely as your heart. ‚ú®üíê  
       Thank you for being <span class="accent">gentle, bright, thoughtful</span> ‚Äî  
       and quietly magical.</p>
  </div>

  <div class="controls">
    <button class="btn" id="resetBtn">Reset</button>
  </div>

  <div class="ground"></div>
</div>

<script>
(() => {
  const scene = document.getElementById("scene");
  const bf = document.getElementById("bf");
  const wordsLayer = document.getElementById("words");
  const finalCard = document.getElementById("final");
  const hint = document.getElementById("hint");

  let areNavsOpen = false;
  const navLinks = document.querySelectorAll('.nav-panel .nav-link');
  const mainContent = document.getElementById('scene'); 
  const topNav = document.getElementById('topNav');
  const bottomNav = document.getElementById('bottomNav');
  const leftNav = document.getElementById('leftNav');
  const rightNav = document.getElementById('rightNav');
  const navToggle = document.getElementById('navToggle');
  const navToggleIcon = document.getElementById('navToggleIcon');
  const navToggleX = document.getElementById('navToggleX');


  function openAllNavs() {
      topNav.classList.remove('-translate-y-full');
      bottomNav.classList.remove('translate-y-full');
      leftNav.classList.remove('-translate-x-full');
      rightNav.classList.remove('translate-x-full');
      
      navToggleIcon.classList.add('hidden');
      navToggleX.classList.remove('hidden');
      areNavsOpen = true;
  }

  function closeAllNavs() {
      topNav.classList.add('-translate-y-full');
      bottomNav.classList.add('translate-y-full');
      leftNav.classList.add('-translate-x-full');
      rightNav.classList.add('translate-x-full');
      
      navToggleIcon.classList.remove('hidden');
      navToggleX.classList.add('hidden');
      areNavsOpen = false;
  }

  function toggleAllNavs() {
      if (areNavsOpen) {
          closeAllNavs();
      } else {
          openAllNavs();
      }
  }

  navToggle.addEventListener('click', (e) => {
      e.stopPropagation(); 
      toggleAllNavs();
  });
  
  mainContent.addEventListener('click', () => {
      if (areNavsOpen) {
          closeAllNavs();
      }
  });
  
  navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
          const targetHref = e.currentTarget.getAttribute('href');
          
          if (targetHref.startsWith('#')) {
              e.preventDefault(); 
          }

          if (areNavsOpen) {
              setTimeout(closeAllNavs, 100); 
          }
      });
  });


  const dust = document.getElementById("dust");
  for (let i=0;i<38;i++){
    const d=document.createElement("div");
    d.className="d";
    d.style.left=(Math.random()*100)+'vw';
    d.style.bottom=(-10+Math.random()*110)+'vh';
    d.style.animationDuration=(8+Math.random()*10)+'s';
    d.style.animationDelay=(Math.random()*-12)+'s';
    d.style.setProperty('--drift',(Math.random()*40-20)+'px');
    dust.appendChild(d);
  }

  const WORDS = [
    "gentle","bright","curious","kind","rare","soft-spoken",
    "warm-hearted","patient","thoughtful","brave","magic","enough"
  ];

  let idx = 0, busy=false;
  let bx = window.innerWidth*0.5;
  let by = window.innerHeight*0.6;

  let t=0, idleTimer=null;
  function wobble(){
    t+=0.016;
    const wobX = Math.sin(t*1.2)*0.8;
    const wobY = Math.cos(t*1.1)*0.8;
    setPos(bx+wobX, by+wobY);
    requestAnimationFrame(wobble);
  }
  wobble();

  enterRest();

  function setPos(x,y){
    bf.style.setProperty('--x', x+'px');
    bf.style.setProperty('--y', y+'px');
  }

  function ease(k){return k<.5 ? 2*k*k : -1+(4-2*k)*k;}

  function clearIdleTimer(){ if(idleTimer){ clearTimeout(idleTimer); idleTimer=null; } }
  function scheduleRest(){
    clearIdleTimer();
    idleTimer = setTimeout(()=> enterRest(), 3500);
  }

  function enterRest(){
    bf.classList.remove('flying','landing');
    bf.classList.add('rest');
  }
  function leaveRest(){
    bf.classList.remove('rest');
  }

  function onStartFlight(){
    leaveRest();
    bf.classList.remove('landing');
    bf.classList.add('flying');
  }

  function onLandSoftFold(){
    bf.classList.remove('flying');
    bf.classList.add('landing');
    setTimeout(()=> enterRest(), 700);
  }

  function flyTo(x,y,done){
    busy=true; if(hint) hint.remove(); clearIdleTimer(); onStartFlight();

    const m=24;
    x=Math.max(m,Math.min(window.innerWidth-m,x));
    y=Math.max(m,Math.min(window.innerHeight-m-70,y));

    const sx=bx, sy=by, dx=x-sx, dy=y-sy;
    const dist=Math.hypot(dx,dy);
    const dur=Math.min(1300,Math.max(550,dist*1.3));

    const angle=Math.atan2(dy,dx)*180/Math.PI;
    bf.style.setProperty('--r',(angle/6)+'deg');

    const start=performance.now();
    const arc=Math.min(130,Math.max(60,dist/4));

    function step(time){
      const k=Math.min(1,(time-start)/dur);
      const e=ease(k);

      bx=sx+dx*e + Math.sin(time*0.01)*3;
      by=sy+dy*e - Math.sin(Math.PI*e)*arc + Math.cos(time*0.012)*2;

      setPos(bx,by);

      if(k<1){
        requestAnimationFrame(step);
      } else {
        bf.style.setProperty('--r','0deg');
        let tt=0, by0=by;
        function land(){
          tt+=0.06;
          const off=Math.sin(tt)*1.3*Math.exp(-tt/3);
          setPos(bx, by0+off);
          if(tt<6) requestAnimationFrame(land);
          else{
            onLandSoftFold();
            busy=false; done && done();
            scheduleRest();
          }
        }
        land();
      }
    }
    requestAnimationFrame(step);
  }

  function dropWord(x,y,text){
    const p=document.createElement("div");
    p.className="pill";
    p.textContent=text;
    p.style.left=x+"px";
    p.style.top=y+"px";
    wordsLayer.appendChild(p);
  }

  scene.addEventListener("click",(e)=>{
    if(areNavsOpen || busy) return; 
    
    if(e.target.closest(".btn")) return;

    const r=scene.getBoundingClientRect();
    const x=e.clientX-r.left;
    const y=e.clientY-r.top;

    flyTo(x,y,()=>{
      if(idx < WORDS.length){
        dropWord(bx,by,WORDS[idx]);
        idx++;
        if(idx===WORDS.length){
          setTimeout(()=>finalCard.classList.add("show"),600);
        }
      }
    });
  });

  document.getElementById("resetBtn").onclick=()=>{
    if (areNavsOpen) {
        closeAllNavs();
    }
    
    wordsLayer.innerHTML="";
    idx=0;busy=false;
    finalCard.classList.remove("show");
    bf.style.setProperty('--r','0deg');
    bx=window.innerWidth*0.5; by=window.innerHeight*0.6;
    setPos(bx,by);
    enterRest();
  };

})();
</script>

</body>
</html>
