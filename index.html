<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Her Presence - Room of Echoes</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&display=swap');
        
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        
        .room-transition {
            transition: background-color 1s ease, color 1s ease, fill 1s ease, stroke 1s ease;
        }
        
        .dialog-enter { transform: translateY(110%); }
        .dialog-enter-active { transform: translateY(0); }
        .dialog-exit { transform: translateY(0); }
        .dialog-exit-active { transform: translateY(110%); }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="m-0 overflow-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const IconX = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>
        );

        const IconMenu = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 6h16M4 12h16m-8 6h8"></path></svg>
        );

        const IconSparkles = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H5"/><path d="M19 19v4"/><path d="M23 21h-4"/></svg>
        );

        const IconHeart = ({ size = 24, className = "", fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );

        const IconSun = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="5"/><path d="M12 1v2"/><path d="M12 21v2"/><path d="M4.22 4.22l1.42 1.42"/><path d="M18.36 18.36l1.42 1.42"/><path d="M1 12h2"/><path d="M21 12h2"/><path d="M4.22 19.78l1.42-1.42"/><path d="M18.36 5.64l1.42-1.42"/></svg>
        );

        const IconMoon = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
        );

        const RoomOfEchoes = () => {
            const [activeObject, setActiveObject] = useState(null);
            const [displayedText, setDisplayedText] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const [isNight, setIsNight] = useState(false);
            const [isNavOpen, setIsNavOpen] = useState(false);
            
            const audioRef = useRef(null);

            const memories = {
                lamp: {
                    title: "The Old Floor Lamp",
                    night: {
                        text: "I watched the light dance in her eyes. It wasn't my bulb flickering; it was the way she looked at you when you were distracted. A soft, quiet admiration.",
                        color: "text-yellow-200"
                    },
                    day: {
                        text: "Even in the bright morning light, I remember how she looked at you. The sun catches the dust motes now, just like it caught the gold in her hair that day.",
                        color: "text-amber-600"
                    }
                },
                sofa: {
                    title: "The Velvet Sofa",
                    night: {
                        text: "She sat on my edge at first, stiff and nervous. But when you made that terrible joke, she leaned back, sank into my cushions, and finally breathed. She felt safe here.",
                        color: "text-indigo-200"
                    },
                    day: {
                        text: "She sat on my edge at first, stiff and nervous. But when you made that terrible joke, she leaned back, sank into my cushions, and finally breathed. She felt safe here.",
                        color: "text-indigo-600"
                    }
                },
                mirror: {
                    title: "The Wall Mirror",
                    night: {
                        text: "I caught her glance when you went to the kitchen. She didn't check her makeup. She just looked at herself, smiled a secret smile, and whispered, 'Okay, you got this.'",
                        color: "text-blue-200"
                    },
                    day: {
                        text: "I reflect the morning sun now, but I still hold her image. She didn't check her makeup that day. She just looked at herself, smiled a secret smile, and whispered, 'Okay, you got this.'",
                        color: "text-sky-600"
                    }
                },
                plant: {
                    title: "The Corner Monstera",
                    night: {
                        text: "She touched one of my leaves gently as she walked by. Most people ignore me, but she has a kindness in her fingers. I think I grew an inch just from her attention.",
                        color: "text-green-200"
                    },
                    day: {
                        text: "She touched one of my leaves gently as she walked by. The sunlight helps me grow, but her kindness was what really made me thrive.",
                        color: "text-green-600"
                    }
                },
                cup: {
                    title: "The Coffee Mug",
                    night: {
                        text: "Her lipstick stain is still on my rim. She held me with both hands, using my warmth to steady her trembling fingers. She didn't want the coffee; she just wanted a reason to stay longer.",
                        color: "text-orange-200"
                    },
                    day: {
                        text: "Her lipstick stain is barely visible in this light. She held me with both hands, using my warmth to steady her trembling fingers. She didn't want the coffee; she just wanted a reason to stay longer.",
                        color: "text-orange-600"
                    }
                },
                window: {
                    title: isNight ? "The Rainy Window" : "The Sunny Window",
                    night: {
                        text: "She stared out at the streetlights, but I know she was seeing your reflection in the glass. She traced the path of a raindrop and sighed, wishing the night wouldn't end.",
                        color: "text-gray-200"
                    },
                    day: {
                        text: "The rain is gone, but I remember how she traced the drops. Now, the sun warms the spot where she stood, wishing the moment wouldn't end.",
                        color: "text-blue-600"
                    }
                },
                pen: {
                    title: "The Forgotten Pen",
                    night: {
                        text: "She twirled me between her fingers while you talked about your day. I could feel her nervous energy, the way she wanted to reach out but stopped herself, channeling it all into a restless spin.",
                        color: "text-cyan-200"
                    },
                    day: {
                        text: "She twirled me between her fingers while you talked about your day. I could feel her nervous energy, the way she wanted to reach out but stopped herself.",
                        color: "text-teal-600"
                    }
                },
                photoFrame: {
                    title: "The Empty Frame",
                    night: {
                        text: "She paused in front of me, looking at the blank space where a picture should be. She didn't say anything, but I felt the weight of her unasked question: 'Is there room for me here?'",
                        color: "text-rose-200"
                    },
                    day: {
                        text: "She paused in front of me, looking at the blank space where a picture should be. She didn't say anything, but I felt the weight of her unasked question: 'Is there room for me here?'",
                        color: "text-rose-600"
                    }
                },
                mobile: {
                    title: isNight ? "The Glowing Phone" : "The Silent Phone",
                    night: {
                        text: "Her phone buzzed on the cushion, a message from someone else. She glanced at it, then flipped it face down. In that moment, the whole world outside this room ceased to exist for her.",
                        color: "text-purple-200"
                    },
                    day: {
                        text: "Her phone sat quiet on the cushion. She flipped it face down to ignore the world. In the clarity of the morning, that silence speaks volumes.",
                        color: "text-purple-600"
                    }
                },
                box: {
                    title: "The Keepsake Box",
                    night: {
                        text: "She hid a folded note inside me when you weren't looking. It's still there, tucked beneath the velvet lining. She hesitated before closing the lid, as if leaving a part of her heart behind for you to find.",
                        color: "text-amber-200"
                    },
                    day: {
                        text: "She hid a folded note inside me when you weren't looking. It's still there, tucked beneath the velvet lining. A secret kept for a sunny day.",
                        color: "text-amber-700"
                    }
                },
                fan: {
                    title: "The Ceiling Fan",
                    night: {
                        text: "I spun lazily above you, slicing through the heavy silence. Round and round I went, trying to stir the air between you, but the distance remained untouchable.",
                        color: "text-slate-200"
                    },
                    day: {
                        text: "I hang motionless now, gathering dust in the morning light. I miss the sound of her laughter drifting up to the ceiling. It's too quiet up here without it.",
                        color: "text-slate-500"
                    }
                },
                purse: {
                    title: "Her Leather Purse",
                    night: {
                        text: "She rummaged through me laughing, searching for her keys in the dim light. The faint scent of her perfume still lingers in my leather, a ghost of that evening.",
                        color: "text-pink-200"
                    },
                    day: {
                        text: "I sat heavy on the cushion, holding all the little things she needed to face the world. I remember the weight of her hand as she grabbed my strap to leave.",
                        color: "text-pink-600"
                    }
                },
                laptop: {
                    title: "The Open Laptop",
                    night: {
                        text: "The screen glowed soft blue on her face as you watched that movie. She fell asleep halfway through, her breathing syncing with the hum of my fan.",
                        color: "text-cyan-200"
                    },
                    day: {
                        text: "We used to work side by side here, the silence filled only by the clicking of keys. Now my screen just reflects the empty room and the morning sun.",
                        color: "text-cyan-700"
                    }
                },
                tv: {
                    title: "The Wall TV",
                    night: {
                        text: "I was just background noise that night. You turned me down low, preferring the sound of her voice over the show. I cast flickering shadows while you fell in love.",
                        color: "text-blue-300"
                    },
                    day: {
                        text: "A dark mirror in the daylight. I reflect the window and the dust dancing in the air, waiting for a movie night that feels like a lifetime ago.",
                        color: "text-slate-600"
                    }
                }
            };

            const toggleTheme = () => {
                setIsNight(!isNight);
            };

            const toggleNav = () => {
                setIsNavOpen(!isNavOpen);
            };

            useEffect(() => {
                const audio = audioRef.current;
                if (!audio) return;

                const playPromise = audio.play();

                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        const enableAudio = () => {
                            audio.play();
                            window.removeEventListener('click', enableAudio);
                            window.removeEventListener('touchstart', enableAudio);
                        };
                        window.addEventListener('click', enableAudio);
                        window.addEventListener('touchstart', enableAudio);
                    });
                }
            }, []);

            useEffect(() => {
                if (activeObject) {
                    setDisplayedText('');
                    setIsTyping(true);
                    const mode = isNight ? 'night' : 'day';
                    const fullText = memories[activeObject][mode].text;
                    let index = 0;

                    const timer = setInterval(() => {
                        if (index < fullText.length) {
                            setDisplayedText((prev) => prev + fullText.charAt(index));
                            index++;
                        } else {
                            setIsTyping(false);
                            clearInterval(timer);
                        }
                    }, 30);

                    return () => clearInterval(timer);
                }
            }, [activeObject, isNight]);

            const handleObjectClick = (key) => {
                setActiveObject(key);
            };

            const closeDialog = () => {
                setActiveObject(null);
                setDisplayedText('');
            };

            const themeClass = isNight ? 'bg-slate-900 text-slate-100' : 'bg-sky-50 text-slate-800';
            const buttonClass = isNight ? 'bg-slate-800 text-yellow-300 hover:bg-slate-700' : 'bg-white text-orange-500 hover:bg-orange-50';
            
            const navPanelClass = isNight 
                ? 'bg-slate-800/95 text-slate-200 border-slate-700 backdrop-blur-md' 
                : 'bg-white/90 text-slate-700 border-slate-200 backdrop-blur-md';
            
            const navLinkClass = isNight 
                ? 'hover:bg-slate-700 hover:text-white transition-colors duration-200'
                : 'hover:bg-sky-100 hover:text-sky-700 transition-colors duration-200';

            return (
                <div className={`relative w-full h-screen overflow-hidden flex flex-col items-center justify-center font-sans select-none room-transition ${themeClass}`}>
                    
                    {isNavOpen && (
                        <div 
                            className="fixed inset-0 z-[55]" 
                            onClick={() => setIsNavOpen(false)}
                        />
                    )}

                    <button 
                        onClick={toggleNav}
                        className={`fixed top-6 left-6 z-[70] p-3 rounded-full shadow-sm hover:shadow-md transition-shadow focus:outline-none ${buttonClass}`}
                    >
                        {isNavOpen ? <IconX size={20} /> : <IconMenu size={20} />}
                    </button>

                    <nav className={`fixed top-0 left-0 right-0 z-[65] h-16 flex items-center justify-center space-x-6 shadow-sm border-b transition-transform duration-300 ${navPanelClass} ${isNavOpen ? 'translate-y-0' : '-translate-y-full'}`}>
                        <a href="index.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>Home</a>
                        <a href="Special.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>Special</a>
                        <a href="letter.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>Letter</a>
                    </nav>

                    <nav className={`fixed bottom-0 left-0 right-0 z-[65] h-16 flex items-center justify-center space-x-6 shadow-sm border-t transition-transform duration-300 ${navPanelClass} ${isNavOpen ? 'translate-y-0' : 'translate-y-full'}`}>
                        <a href="anatomy.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>Anatomy</a>
                        <a href="chat.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>Heaven</a>
                        <a href="you.html" className={`px-3 py-2 rounded-md ${navLinkClass}`}>You</a>
                    </nav>

                    <nav className={`fixed left-0 top-0 bottom-0 z-[60] w-24 flex flex-col items-center space-y-4 overflow-y-auto py-20 shadow-sm border-r no-scrollbar transition-transform duration-300 ${navPanelClass} ${isNavOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                        <a href="Diary.html" className={`p-2 text-center w-full ${navLinkClass}`}>Diary</a>
                        <a href="Universe.html" className={`p-2 text-center w-full ${navLinkClass}`}>Uni</a>
                        <a href="Box.html" className={`p-2 text-center w-full ${navLinkClass}`}>Box</a>
                        <a href="color.html" className={`p-2 text-center w-full ${navLinkClass}`}>Color</a>
                        <a href="Teacher.html" className={`p-2 text-center w-full ${navLinkClass}`}>Teacher</a>
                        <a href="The_River.html" className={`p-2 text-center w-full ${navLinkClass}`}>River</a>
                        <a href="Mountain.html" className={`p-2 text-center w-full ${navLinkClass}`}>Mtn</a>
                        <a href="Paper_Star.html" className={`p-2 text-center w-full ${navLinkClass}`}>Star</a>
                        <a href="Carttoon.html" className={`p-2 text-center w-full ${navLinkClass}`}>Cartoon</a>
                        <a href="Santa.html" className={`p-2 text-center w-full ${navLinkClass}`}>Santa</a>
                        <a href="Cloud.html" className={`p-2 text-center w-full ${navLinkClass}`}>Cloud</a>
                        <a href="Ink.html" className={`p-2 text-center w-full ${navLinkClass}`}>Paint</a>
                        <a href="Butterfly.html" className={`p-2 text-center w-full ${navLinkClass}`}>Fly</a>
                        <a href="Weather.html" className={`p-2 text-center w-full ${navLinkClass}`}>Weather</a>
                    </nav>

                    <nav className={`fixed right-0 top-0 bottom-0 z-[60] w-24 flex flex-col items-center space-y-4 overflow-y-auto py-20 shadow-sm border-l no-scrollbar transition-transform duration-300 ${navPanelClass} ${isNavOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                        <a href="Skill.html" className={`p-2 text-center w-full ${navLinkClass}`}>Skill</a>
                        <a href="Msg.html" className={`p-2 text-center w-full ${navLinkClass}`}>Msg</a>
                        <a href="21_Wish.html" className={`p-2 text-center w-full ${navLinkClass}`}>21</a>
                        <a href="Cake.html" className={`p-2 text-center w-full ${navLinkClass}`}>Cake</a>
                        <a href="Periodik_table.html" className={`p-2 text-center w-full ${navLinkClass}`}>Table</a>
                        <a href="Presence.html" className={`p-2 text-center w-full ${navLinkClass}`}>Here</a>
                        <a href="Concept.html" className={`p-2 text-center w-full ${navLinkClass}`}>Concept</a>
                        <a href="Calender.html" className={`p-2 text-center w-full ${navLinkClass}`}>Date</a>
                        <a href="Perspective.html" className={`p-2 text-center w-full ${navLinkClass}`}>View</a>
                        <a href="Spotlight.html" className={`p-2 text-center w-full ${navLinkClass}`}>Light</a>
                        <a href="Room.html" className={`p-2 text-center w-full ${navLinkClass}`}>Room</a>
                        <a href="Radio.html" className={`p-2 text-center w-full ${navLinkClass}`}>Radio</a>
                        <a href="Food.html" className={`p-2 text-center w-full ${navLinkClass}`}>Food</a>
                        <a href="Music.html" className={`p-2 text-center w-full ${navLinkClass}`}>Music</a>
                    </nav>

                    <div className="absolute top-6 right-6 z-50 flex gap-3">
                        <button 
                            onClick={toggleTheme}
                            className={`p-3 rounded-full shadow-lg transition-all duration-300 ${buttonClass}`}
                            title="Toggle Day/Night"
                        >
                            {isNight ? <IconSun size={24} /> : <IconMoon size={24} />}
                        </button>
                    </div>

                    <audio ref={audioRef} loop>
                        <source src="hbd.mp3" type="audio/mpeg" />
                    </audio>

                    <div className={`absolute inset-0 transition-opacity duration-1000 bg-gradient-to-b pointer-events-none ${isNight ? 'from-slate-900 via-indigo-950 to-slate-900' : 'from-sky-200 via-white to-amber-50'}`} />
                    
                    <div className="absolute inset-0 pointer-events-none transition-opacity duration-1000">
                        <div className={`absolute top-10 left-10 w-1 h-1 rounded-full animate-pulse ${isNight ? 'bg-white opacity-30' : 'bg-yellow-400 opacity-60'}`} />
                        <div className={`absolute top-1/4 right-1/4 w-1 h-1 rounded-full animate-pulse delay-700 ${isNight ? 'bg-white opacity-30' : 'bg-yellow-400 opacity-60'}`} />
                        <div className={`absolute bottom-1/3 left-1/2 w-1 h-1 rounded-full animate-pulse delay-300 ${isNight ? 'bg-white opacity-30' : 'bg-yellow-400 opacity-60'}`} />
                    </div>

                    <div className={`absolute top-8 z-10 transition-opacity duration-500 ${activeObject ? 'opacity-0' : 'opacity-100'}`}>
                        <h1 className={`text-3xl md:text-4xl font-light tracking-widest text-center transition-colors duration-1000 ${isNight ? 'text-indigo-200' : 'text-slate-600'}`}>
                            HER <span className={`font-bold transition-colors duration-1000 ${isNight ? 'text-white' : 'text-sky-600'}`}>PRESENCE</span>
                        </h1>
                        <p className={`text-xs text-center mt-2 tracking-widest uppercase opacity-70 transition-colors duration-1000 ${isNight ? 'text-indigo-300' : 'text-slate-500'}`}>
                            Tap the objects to hear their secrets
                        </p>
                    </div>

                    <div className="relative w-full max-w-2xl aspect-square md:aspect-video flex items-center justify-center p-4">
                        <svg 
                            viewBox="0 0 800 600" 
                            className="w-full h-full drop-shadow-2xl transition-transform duration-700 ease-out"
                            style={{ transform: activeObject ? 'scale(1.05)' : 'scale(1)' }}
                        >
                            <defs>
                                <radialGradient id="lampGlow" cx="0.5" cy="0.5" r="0.5">
                                    <stop offset="0%" stopColor="#FDE68A" stopOpacity={isNight ? 0.6 : 0.2} />
                                    <stop offset="100%" stopColor="#FDE68A" stopOpacity="0" />
                                </radialGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>

                            <path d="M100 100 L700 100 L700 500 L100 500 Z" className="transition-all duration-1000" fill={isNight ? "#1E1B4B" : "#F1F5F9"} /> 
                            <path d="M100 500 L700 500 L800 600 L0 600 Z" className="transition-all duration-1000" fill={isNight ? "#312E81" : "#E2E8F0"} />   
                            <path d="M0 0 L100 100 L100 500 L0 600 Z" className="transition-all duration-1000" fill={isNight ? "#111827" : "#CBD5E1"} />       
                            <path d="M800 0 L700 100 L700 500 L800 600 Z" className="transition-all duration-1000" fill={isNight ? "#111827" : "#CBD5E1"} />     

                            <path d="M250 150 L550 150 L750 600 L150 600 Z" fill="white" className={`pointer-events-none transition-opacity duration-1000 ${isNight ? 'opacity-0' : 'opacity-10'}`} />

                            <g
                                onClick={() => handleObjectClick('tv')}
                                className="cursor-pointer hover:opacity-90 transition-opacity"
                                style={{ filter: activeObject === 'tv' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M20 200 L80 220 L80 360 L20 380 Z" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#334155"} stroke={isNight ? "#374151" : "#475569"} strokeWidth="2" />
                                <path d="M24 205 L76 224 L76 356 L24 375 Z" className="transition-all duration-1000" fill={isNight ? "#111827" : "#0F172A"} />
                                
                                {isNight ? (
                                    <path d="M24 205 L76 224 L76 356 L24 375 Z" fill="#3B82F6" opacity="0.1" className="animate-pulse" />
                                ) : (
                                    <path d="M30 210 L50 225 L50 350 L30 370" fill="white" opacity="0.1" />
                                )}
                            </g>

                            <g 
                                onClick={() => handleObjectClick('window')} 
                                className="cursor-pointer hover:opacity-90 transition-opacity duration-300"
                                style={{ filter: activeObject === 'window' ? 'url(#glow)' : 'none' }}
                            >
                                <rect x="250" y="150" width="300" height="200" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#E2E8F0"} stroke={isNight ? "#4B5563" : "#94A3B8"} strokeWidth="8" />
                                
                                <rect x="260" y="160" width="135" height="180" className="transition-all duration-1000" fill={isNight ? "#0F172A" : "#BAE6FD"} fillOpacity={isNight ? 0.8 : 0.9} />
                                <rect x="405" y="160" width="135" height="180" className="transition-all duration-1000" fill={isNight ? "#0F172A" : "#BAE6FD"} fillOpacity={isNight ? 0.8 : 0.9} />
                                
                                <circle cx="300" cy="190" r="15" fill="#FDE047" className={`transition-opacity duration-1000 ${isNight ? 'opacity-0' : 'opacity-80'}`} />
                                
                                <circle cx="300" cy="190" r="12" fill="#E2E8F0" className={`transition-opacity duration-1000 ${isNight ? 'opacity-80' : 'opacity-0'}`} />

                                {isNight ? (
                                    <g className="transition-opacity duration-1000">
                                        <line x1="280" y1="170" x2="280" y2="190" stroke="#60A5FA" strokeWidth="2" opacity="0.5" />
                                        <line x1="320" y1="200" x2="320" y2="230" stroke="#60A5FA" strokeWidth="2" opacity="0.5" />
                                        <line x1="450" y1="180" x2="450" y2="200" stroke="#60A5FA" strokeWidth="2" opacity="0.5" />
                                    </g>
                                ) : (
                                    <circle cx="300" cy="190" r="15" fill="#FDE047" opacity="0.8" className="transition-opacity duration-1000" />
                                )}
                            </g>

                            <g
                                onClick={() => handleObjectClick('fan')}
                                className="cursor-pointer hover:opacity-90 transition-opacity"
                                style={{ filter: activeObject === 'fan' ? 'url(#glow)' : 'none' }}
                            >
                                <rect x="395" y="0" width="10" height="60" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#475569"} />
                                
                                <g className={`origin-[400px_60px] ${isNight ? 'animate-spin' : ''}`} style={{ animationDuration: isNight ? '4s' : '0s' }}>
                                    <ellipse cx="400" cy="60" rx="120" ry="15" className="transition-all duration-1000" fill={isNight ? "#374151" : "#64748B"} transform="rotate(0 400 60)" />
                                    <ellipse cx="400" cy="60" rx="120" ry="15" className="transition-all duration-1000" fill={isNight ? "#374151" : "#64748B"} transform="rotate(120 400 60)" />
                                    <ellipse cx="400" cy="60" rx="120" ry="15" className="transition-all duration-1000" fill={isNight ? "#374151" : "#64748B"} transform="rotate(240 400 60)" />
                                    
                                    <circle cx="400" cy="60" r="20" className="transition-all duration-1000" fill={isNight ? "#111827" : "#334155"} />
                                </g>
                            </g>

                            <g
                                onClick={() => handleObjectClick('photoFrame')}
                                className="cursor-pointer hover:scale-105 transition-transform origin-center"
                                style={{ filter: activeObject === 'photoFrame' ? 'url(#glow)' : 'none' }}
                            >
                                <rect x="500" y="180" width="80" height="100" className="transition-all duration-1000" fill={isNight ? "#4B5563" : "#94A3B8"} stroke={isNight ? "#D1D5DB" : "#E2E8F0"} strokeWidth="4" />
                                <rect x="510" y="190" width="60" height="80" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#475569"} />
                                <path d="M520 230 L530 220 L550 240 L560 230" className="transition-all duration-1000" stroke={isNight ? "#6B7280" : "#94A3B8"} strokeWidth="2" opacity="0.5" />
                            </g>

                            <g 
                                onClick={() => handleObjectClick('plant')} 
                                className="cursor-pointer hover:scale-105 transition-transform origin-bottom"
                                style={{ filter: activeObject === 'plant' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M600 520 L620 520 L615 450 L605 450 Z" className="transition-all duration-1000" fill={isNight ? "#4B5563" : "#78350F"} /> 
                                <path d="M580 450 Q560 400 610 400 Q660 400 640 450 Z" fill="#065F46" /> 
                                <path d="M610 400 Q580 350 550 380 T610 400" className="transition-all duration-1000" fill={isNight ? "#10B981" : "#22C55E"} />
                                <path d="M610 400 Q640 320 670 360 T610 400" className="transition-all duration-1000" fill={isNight ? "#059669" : "#16A34A"} />
                                <path d="M610 400 Q620 300 600 320 T610 400" className="transition-all duration-1000" fill={isNight ? "#34D399" : "#4ADE80"} />
                            </g>

                            <g
                                onClick={() => handleObjectClick('box')}
                                className="cursor-pointer hover:translate-y-[-2px] transition-transform"
                                style={{ filter: activeObject === 'box' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M560 520 L610 520 L610 550 L560 550 Z" className="transition-all duration-1000" fill={isNight ? "#78350F" : "#92400E"} />
                                <path d="M555 520 L615 520 L605 510 L565 510 Z" className="transition-all duration-1000" fill={isNight ? "#92400E" : "#B45309"} />
                                <rect x="582" y="525" width="6" height="8" className="transition-all duration-1000" fill={isNight ? "#FBBF24" : "#FCD34D"} />
                            </g>

                            <g 
                                onClick={() => handleObjectClick('lamp')} 
                                className="cursor-pointer"
                            >
                                <rect x="150" y="480" width="10" height="40" className="transition-all duration-1000" fill={isNight ? "#4B5563" : "#64748B"} />
                                <path d="M130 520 L180 520 L170 480 L140 480 Z" className="transition-all duration-1000" fill={isNight ? "#374151" : "#475569"} />
                                <path d="M155 480 L155 250" className="transition-all duration-1000" stroke={isNight ? "#4B5563" : "#64748B"} strokeWidth="4" />
                                <path 
                                    d="M110 250 L200 250 L220 330 L90 330 Z" 
                                    fill={isNight ? "#FDE68A" : "#FEF3C7"} 
                                    className="transition-colors duration-1000"
                                    opacity="0.9"
                                />
                                <ellipse 
                                    cx="155" cy="330" rx="80" ry="20" 
                                    fill="url(#lampGlow)" 
                                    className={`transition-opacity duration-1000 ${isNight ? 'opacity-100' : 'opacity-30'}`}
                                />
                            </g>

                            <g 
                                onClick={() => handleObjectClick('mirror')} 
                                className="cursor-pointer hover:opacity-90 transition-opacity"
                                style={{ filter: activeObject === 'mirror' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M720 220 L780 200 L780 400 L720 380 Z" className="transition-all duration-1000" fill={isNight ? "#4B5563" : "#94A3B8"} stroke={isNight ? "#D1D5DB" : "#E2E8F0"} strokeWidth="2" />
                                <path d="M725 225 L775 208 L775 392 L725 375 Z" className="transition-all duration-1000" fill={isNight ? "#93C5FD" : "#E0F2FE"} fillOpacity={isNight ? 0.3 : 0.6} />
                                <path d="M730 240 L750 230" stroke="white" strokeWidth="2" opacity={isNight ? 0.4 : 0.8} />
                                <path d="M740 370 L770 360" stroke="white" strokeWidth="2" opacity={isNight ? 0.2 : 0.4} />
                            </g>

                            <g 
                                onClick={() => handleObjectClick('sofa')} 
                                className="cursor-pointer hover:translate-y-[-2px] transition-transform duration-300"
                                style={{ filter: activeObject === 'sofa' ? 'url(#glow)' : 'none' }}
                            >
                                <rect x="250" y="380" width="300" height="80" rx="10" fill="#4338CA" />
                                <rect x="250" y="450" width="300" height="50" rx="5" fill="#3730A3" />
                                <path d="M230 420 L260 420 L260 500 L230 500 Z" fill="#312E81" />
                                <path d="M540 420 L570 420 L570 500 L540 500 Z" fill="#312E81" />
                                <rect x="270" y="400" width="80" height="60" rx="5" className="transition-all duration-1000" fill={isNight ? "#4F46E5" : "#6366F1"} fillOpacity={isNight ? 0.8 : 0.9} />
                                <rect x="450" y="400" width="80" height="60" rx="5" className="transition-all duration-1000" fill={isNight ? "#4F46E5" : "#6366F1"} fillOpacity={isNight ? 0.8 : 0.9} />
                            </g>

                            <g
                                onClick={() => handleObjectClick('purse')}
                                className="cursor-pointer hover:scale-105 transition-transform origin-center"
                                style={{ filter: activeObject === 'purse' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M300 420 Q290 450 310 455 L350 450 Q360 440 350 415 Z" className="transition-all duration-1000" fill={isNight ? "#831843" : "#BE185D"} />
                                <path d="M305 420 L345 418 L335 440 L315 442 Z" className="transition-all duration-1000" fill={isNight ? "#9D174D" : "#DB2777"} />
                                <path d="M300 420 Q290 380 330 380 Q350 380 350 415" fill="none" stroke={isNight ? "#500724" : "#831843"} strokeWidth="3" />
                            </g>

                            <g
                                onClick={() => handleObjectClick('laptop')}
                                className="cursor-pointer hover:scale-105 transition-transform origin-center"
                                style={{ filter: activeObject === 'laptop' ? 'url(#glow)' : 'none' }}
                            >
                                <path d="M460 440 L520 440 L530 450 L450 450 Z" className="transition-all duration-1000" fill={isNight ? "#374151" : "#94A3B8"} />
                                <path d="M460 440 L520 440 L520 400 L460 400 Z" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#64748B"} />
                                <rect x="465" y="405" width="50" height="30" className="transition-all duration-1000" fill={isNight ? "#60A5FA" : "#E2E8F0"} fillOpacity={isNight ? 0.6 : 0.9} />
                            </g>

                            <g
                                onClick={() => handleObjectClick('mobile')}
                                className="cursor-pointer hover:scale-110 transition-transform origin-center"
                                style={{ filter: activeObject === 'mobile' ? 'url(#glow)' : 'none' }}
                            >
                                <rect x="470" y="420" width="25" height="40" rx="2" fill="#1F2937" transform="rotate(-10 482.5 440)" />
                                <rect x="472" y="422" width="21" height="36" rx="1" fill={isNight ? (activeObject === 'mobile' ? "#A855F7" : "#111827") : (activeObject === 'mobile' ? "#C084FC" : "#374151")} transform="rotate(-10 482.5 440)" className="transition-colors duration-500">
                                    <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite" />
                                </rect>
                            </g>

                            <g>
                                <ellipse cx="400" cy="540" rx="80" ry="20" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#334155"} /> 
                                <rect x="390" y="540" width="20" height="40" className="transition-all duration-1000" fill={isNight ? "#111827" : "#1E293B"} /> 
                                
                                <g 
                                    onClick={() => handleObjectClick('cup')} 
                                    className="cursor-pointer hover:scale-110 transition-transform origin-bottom"
                                    style={{ filter: activeObject === 'cup' ? 'url(#glow)' : 'none' }}
                                >
                                    <path d="M380 520 L400 520 L395 535 L385 535 Z" fill="#F97316" />
                                    <path d="M400 525 Q405 525 405 530 T400 532" stroke="#F97316" fill="none" strokeWidth="2" />
                                    <path d="M385 515 Q390 510 385 505" stroke={isNight ? "white" : "#94A3B8"} strokeWidth="1" opacity={isNight ? 0.4 : 0.6} className="animate-pulse" />
                                    <path d="M395 515 Q400 510 395 505" stroke={isNight ? "white" : "#94A3B8"} strokeWidth="1" opacity={isNight ? 0.4 : 0.6} className="animate-pulse delay-100" />
                                </g>

                                <g
                                    onClick={() => handleObjectClick('pen')}
                                    className="cursor-pointer hover:rotate-12 transition-transform origin-center"
                                    style={{ filter: activeObject === 'pen' ? 'url(#glow)' : 'none' }}
                                >
                                    <rect x="400" y="520" width="60" height="30" fill="white" opacity="0" transform="rotate(15 430 532)" />
                                    <rect x="410" y="530" width="40" height="4" rx="2" className="transition-all duration-1000" fill={isNight ? "#4B5563" : "#64748B"} transform="rotate(15 430 532)" />
                                    <rect x="410" y="530" width="10" height="4" rx="2" className="transition-all duration-1000" fill={isNight ? "#1F2937" : "#334155"} transform="rotate(15 430 532)" />
                                </g>
                            </g>

                            {!activeObject && (
                                <g>
                                    {[
                                        {cx: 155, cy: 300, delay: ""},
                                        {cx: 400, cy: 450, delay: "delay-300"},
                                        {cx: 390, cy: 530, delay: "delay-500"},
                                        {cx: 610, cy: 400, delay: "delay-700"},
                                        {cx: 750, cy: 300, delay: "delay-1000"},
                                        {cx: 400, cy: 200, delay: "delay-100"},
                                        {cx: 430, cy: 532, delay: "delay-200"},
                                        {cx: 540, cy: 230, delay: "delay-600"},
                                        {cx: 480, cy: 435, delay: "delay-400"},
                                        {cx: 585, cy: 530, delay: "delay-800"},
                                        {cx: 400, cy: 60, delay: "delay-200"},
                                        {cx: 50, cy: 290, delay: "delay-400"},
                                        {cx: 325, cy: 430, delay: "delay-600"},
                                        {cx: 490, cy: 420, delay: "delay-800"}
                                    ].map((dot, i) => (
                                        <circle 
                                            key={i} 
                                            cx={dot.cx} 
                                            cy={dot.cy} 
                                            r="5" 
                                            fill={isNight ? "white" : "#FDE047"} 
                                            className={`animate-ping transition-colors duration-1000 pointer-events-none ${isNight ? 'opacity-50' : 'opacity-70'} ${dot.delay}`} 
                                        />
                                    ))}
                                </g>
                            )}

                        </svg>
                    </div>

                    <div 
                        className={`fixed bottom-0 left-0 right-0 backdrop-blur-md rounded-t-3xl border-t p-6 md:p-8 transform transition-transform duration-500 cubic-bezier(0.34, 1.56, 0.64, 1) shadow-2xl z-50 ${activeObject ? 'translate-y-0' : 'translate-y-[110%]'} ${isNight ? 'bg-slate-800/95 border-slate-700' : 'bg-white/95 border-slate-200'}`}
                    >
                        <div className="max-w-xl mx-auto relative">
                        
                        <button 
                            onClick={closeDialog}
                            className={`absolute -top-2 -right-2 p-2 rounded-full transition-colors ${isNight ? 'bg-slate-700 hover:bg-slate-600' : 'bg-slate-100 hover:bg-slate-200'}`}
                        >
                            <IconX size={20} className={isNight ? "text-slate-300" : "text-slate-600"} />
                        </button>

                        {activeObject && (
                            <div className="flex flex-col gap-3">
                                <div className="flex items-center gap-2">
                                    <IconSparkles size={16} className={`${memories[activeObject][isNight ? 'night' : 'day'].color}`} />
                                    <h2 className={`text-lg font-bold tracking-wide uppercase ${memories[activeObject][isNight ? 'night' : 'day'].color}`}>
                                    {memories[activeObject].title}
                                    </h2>
                                </div>
                                
                                <div className="min-h-[100px] flex items-start">
                                    <p className={`text-base md:text-lg leading-relaxed font-serif italic transition-colors duration-500 ${isNight ? 'text-slate-100' : 'text-slate-700'}`}>
                                    "{displayedText}"
                                    {isTyping && <span className={`animate-pulse ml-1 ${isNight ? 'text-slate-400' : 'text-slate-400'}`}>|</span>}
                                    </p>
                                </div>

                                <div className="mt-2 flex justify-end">
                                    <IconHeart size={16} className={`text-pink-500 ${isTyping ? 'opacity-0' : 'opacity-100 transition-opacity duration-1000'}`} fill="currentColor" />
                                </div>
                            </div>
                        )}
                        </div>
                    </div>

                    <div className={`absolute bottom-8 text-sm animate-pulse transition-colors duration-1000 ${isNight ? 'text-slate-400' : 'text-slate-600'} ${activeObject ? 'hidden' : 'block'}`}>
                        Tap an object to listen...
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RoomOfEchoes />);
    </script>
</body>
</html>
